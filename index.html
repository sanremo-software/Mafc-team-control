<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAFC & FILHO, LDA. - Sistema de Gestão Integrado</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1a5f7a;
            --secondary: #2d9cdb;
            --accent: #ff9f1c;
            --dark: #003049;
            --light: #f8f9fa;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --construction: #e67e22;
            --boss: #8e44ad;
            --team: #3498db;
            --purchase: #2ecc71;
            --office: #9b59b6;
            --gray: #7f8c8d;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: var(--light);
            overflow-x: hidden;
        }

        /* ============ PÁGINA PÚBLICA MELHORADA ============ */
        #publicWebsite {
            min-height: 100vh;
        }

        /* Header Público */
        .public-header {
            background: linear-gradient(135deg, var(--dark), var(--primary));
            color: white;
            padding: 1.5rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .container {
            width: 90%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo i {
            font-size: 2.8rem;
            color: var(--accent);
        }

        .logo-text h1 {
            font-size: 1.8rem;
            font-weight: 800;
        }

        .logo-text span {
            color: var(--accent);
            font-size: 1rem;
            display: block;
            margin-top: 5px;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .nav-menu a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }

        .nav-menu a:hover {
            color: var(--accent);
        }

        .cta-buttons {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            white-space: nowrap;
        }

        .btn-whatsapp {
            background: #25D366;
            color: white;
        }

        .btn-whatsapp:hover {
            background: #1da851;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.4);
        }

        .btn-email {
            background: var(--accent);
            color: var(--dark);
        }

        .btn-email:hover {
            background: #ffb143;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 159, 28, 0.3);
        }

        .btn-login {
            background: var(--primary);
            color: white;
        }

        .btn-login:hover {
            background: var(--dark);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(26, 95, 122, 0.3);
        }

        /* Hero Section com mais imagens */
        .hero {
            background: linear-gradient(rgba(0, 48, 73, 0.88), rgba(0, 48, 73, 0.92)), 
                        url('https://images.unsplash.com/photo-1504307651254-35680f356dfd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1800&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            padding: 180px 0 120px;
            text-align: center;
            margin-top: 80px;
        }

        .hero h2 {
            font-size: 3.8rem;
            margin-bottom: 25px;
            font-weight: 900;
            text-transform: uppercase;
            text-shadow: 3px 3px 8px rgba(0,0,0,0.4);
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.4rem;
            max-width: 850px;
            margin: 0 auto 50px;
            opacity: 0.95;
            line-height: 1.8;
        }

        /* Galeria de Construção Civil */
        .construction-gallery {
            padding: 100px 0;
            background: white;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            height: 250px;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .gallery-item:hover img {
            transform: scale(1.05);
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 20px;
            transform: translateY(100%);
            transition: transform 0.3s;
        }

        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
        }

        /* Services Grid */
        .services {
            padding: 100px 0;
            background: #f8f9fa;
        }

        .section-title {
            text-align: center;
            font-size: 2.8rem;
            color: var(--dark);
            margin-bottom: 70px;
            position: relative;
            font-weight: 800;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 5px;
            background: var(--accent);
            border-radius: 10px;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 35px;
            margin-top: 60px;
        }

        .service-card {
            background: white;
            padding: 45px 35px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.4s;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }

        .service-card:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--accent);
            transform: translateY(-100%);
            transition: transform 0.3s;
        }

        .service-card:hover {
            transform: translateY(-15px);
            border-color: var(--accent);
            box-shadow: 0 20px 40px rgba(0,0,0,0.12);
        }

        .service-card:hover:before {
            transform: translateY(0);
        }

        .service-icon {
            font-size: 3.5rem;
            color: var(--primary);
            margin-bottom: 25px;
        }

        /* Formulário de Orçamento */
        .quote-form {
            background: white;
            padding: 50px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: 0 auto;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark);
            font-weight: 600;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(26, 95, 122, 0.1);
        }

        /* ============ SISTEMA DE LOGIN ============ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s;
        }

        .test-credentials {
            background: #f8f9fa;
            border-left: 4px solid var(--accent);
            padding: 15px;
            margin-top: 20px;
            border-radius: 8px;
        }

        .test-credentials h4 {
            color: var(--dark);
            margin-bottom: 10px;
        }

        .test-credentials ul {
            list-style: none;
            padding-left: 0;
        }

        .test-credentials li {
            padding: 5px 0;
            color: #555;
            font-size: 0.9rem;
        }

        .test-credentials strong {
            color: var(--primary);
        }

        /* ============ DASHBOARDS MELHORADOS ============ */
        .dashboard {
            display: none;
            min-height: 100vh;
            background: #f0f2f5;
        }

        /* Sistema de Navegação Superior Melhorado */
        .dashboard-header {
            background: white;
            padding: 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            border-bottom: 5px solid;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .boss-dashboard .dashboard-header {
            border-bottom-color: var(--boss);
            background: linear-gradient(135deg, var(--boss), #9b59b6);
        }

        .team-dashboard .dashboard-header {
            border-bottom-color: var(--team);
            background: linear-gradient(135deg, var(--team), #2980b9);
        }

        .purchase-dashboard .dashboard-header {
            border-bottom-color: var(--purchase);
            background: linear-gradient(135deg, var(--purchase), #27ae60);
        }

        .office-dashboard .dashboard-header {
            border-bottom-color: var(--office);
            background: linear-gradient(135deg, var(--office), #8e44ad);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .dashboard-brand {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .dashboard-brand i {
            font-size: 2.2rem;
            color: white;
        }

        .dashboard-brand h1 {
            color: white;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .user-controls {
            display: flex;
            align-items: center;
            gap: 25px;
            color: white;
        }

        .quick-actions {
            display: flex;
            gap: 10px;
        }

        .quick-action-btn {
            background: rgba(255,255,255,0.15);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.2rem;
        }

        .quick-action-btn:hover {
            background: rgba(255,255,255,0.25);
            transform: scale(1.1);
        }

        /* Sistema de Menu Horizontal Aprimorado */
        .dashboard-nav {
            background: white;
            position: fixed;
            top: 70px;
            width: 100%;
            z-index: 999;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            padding: 0;
        }

        .nav-container {
            display: flex;
            overflow-x: auto;
            padding: 0;
        }

        .nav-main {
            display: flex;
            flex: 1;
            gap: 5px;
        }

        .nav-secondary {
            display: flex;
            background: #f8f9fa;
            padding: 0 20px;
        }

        .nav-item {
            padding: 20px 30px;
            color: #555;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 15px;
            font-weight: 600;
            white-space: nowrap;
            border-bottom: 4px solid transparent;
            transition: all 0.3s;
            position: relative;
        }

        .nav-item:hover {
            color: var(--primary);
            background: #f8f9fa;
        }

        .nav-item.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
            background: #f0f7ff;
        }

        .nav-item i {
            font-size: 1.2rem;
        }

        .nav-badge {
            background: var(--accent);
            color: white;
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 20px;
            margin-left: 8px;
            font-weight: 700;
            min-width: 20px;
            text-align: center;
        }

        .nav-dropdown {
            position: relative;
        }

        .nav-dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            min-width: 250px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            border-radius: 0 0 10px 10px;
            z-index: 1000;
        }

        .nav-dropdown:hover .nav-dropdown-content {
            display: block;
        }

        .dropdown-item {
            padding: 15px 25px;
            display: block;
            color: #555;
            text-decoration: none;
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.3s;
        }

        .dropdown-item:hover {
            background: #f8f9fa;
            color: var(--primary);
            padding-left: 30px;
        }

        /* Conteúdo do Dashboard */
        .dashboard-main {
            margin-top: 140px;
            padding: 30px;
            background: #f0f2f5;
            min-height: calc(100vh - 140px);
        }

        .dashboard-section {
            display: none;
        }

        .dashboard-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        /* Dashboard Cards Melhorados */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            border-left: 6px solid;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.12);
        }

        .boss-dashboard .stat-card { border-left-color: var(--boss); }
        .team-dashboard .stat-card { border-left-color: var(--team); }
        .purchase-dashboard .stat-card { border-left-color: var(--purchase); }
        .office-dashboard .stat-card { border-left-color: var(--office); }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
        }

        .boss-dashboard .stat-icon { background: linear-gradient(135deg, var(--boss), #9b59b6); }
        .team-dashboard .stat-icon { background: linear-gradient(135deg, var(--team), #3498db); }
        .purchase-dashboard .stat-icon { background: linear-gradient(135deg, var(--purchase), #2ecc71); }
        .office-dashboard .stat-icon { background: linear-gradient(135deg, var(--office), #8e44ad); }

        .stat-content h3 {
            font-size: 2.2rem;
            color: var(--dark);
            margin-bottom: 5px;
            font-weight: 800;
        }

        .stat-content p {
            color: #666;
            font-weight: 600;
            font-size: 1rem;
        }

        /* Layout de Conteúdo */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .content-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            transition: transform 0.3s;
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.12);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .card-header h3 {
            color: var(--dark);
            font-size: 1.4rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .card-header h3 i {
            color: var(--primary);
        }

        /* Botões Aprimorados */
        .btn-dashboard {
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--dark);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(26, 95, 122, 0.3);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        /* Sistema de Impressão */
        .print-section {
            background: #f8f9fa;
            border: 2px dashed #ddd;
            padding: 30px;
            border-radius: 10px;
            margin-top: 30px;
        }

        .print-options {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .print-option {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            flex: 1;
            min-width: 150px;
        }

        .print-option:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
        }

        .print-option i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        /* Sistema de Comunicacao */
        .communication-panel {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid var(--secondary);
        }

        .com-methods {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .com-method {
            padding: 10px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .com-method:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .com-method.whatsapp:hover {
            border-color: #25D366;
            background: #25D366;
            color: white;
        }

        .com-method.email:hover {
            border-color: var(--accent);
            background: var(--accent);
            color: white;
        }

        /* Sistema de Equipas */
        .teams-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .team-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #f0f0f0;
            transition: all 0.3s;
        }

        .team-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .team-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .team-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .status-online {
            background: #d5f4e6;
            color: var(--success);
        }

        .status-offline {
            background: #f8d7da;
            color: var(--danger);
        }

        /* Sistema de GPS */
        .gps-tracker {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
        }

        .gps-map {
            height: 200px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }

        /* Responsividade */
        @media (max-width: 1200px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-main, .nav-secondary {
                width: 100%;
                overflow-x: auto;
            }
        }

        @media (max-width: 992px) {
            .hero h2 {
                font-size: 2.8rem;
            }
            
            .section-title {
                font-size: 2.3rem;
            }
            
            .dashboard-main {
                padding: 20px;
            }
            
            .nav-item {
                padding: 15px 20px;
                font-size: 0.95rem;
            }
        }

        @media (max-width: 768px) {
            .hero {
                padding: 150px 0 80px;
            }
            
            .hero h2 {
                font-size: 2.2rem;
            }
            
            .hero p {
                font-size: 1.2rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .user-controls {
                flex-direction: column;
                gap: 15px;
            }
            
            .quote-form {
                padding: 30px;
            }
        }

        @media (max-width: 480px) {
            .hero h2 {
                font-size: 1.8rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            
            .nav-item {
                padding: 12px 15px;
            }
            
            .content-card {
                padding: 20px;
            }
            
            .dashboard-main {
                padding: 15px;
            }
        }

        /* Animações */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        /* Utilitários */
        .text-center { text-align: center; }
        .mt-20 { margin-top: 20px; }
        .mt-30 { margin-top: 30px; }
        .mb-20 { margin-bottom: 20px; }
        .mb-30 { margin-bottom: 30px; }
        .p-20 { padding: 20px; }
        .p-30 { padding: 30px; }
        .w-100 { width: 100%; }
        .d-flex { display: flex; }
        .d-grid { display: grid; }
        .gap-10 { gap: 10px; }
        .gap-20 { gap: 20px; }
        .gap-30 { gap: 30px; }
    </style>
</head>
<body>
    <!-- ============ PÁGINA PÚBLICA ============ -->
    <div id="publicWebsite">
        <!-- Header Público -->
        <header class="public-header">
            <div class="container nav-container">
                <div class="logo">
                    <i class="fas fa-hard-hat"></i>
                    <div class="logo-text">
                        <h1>MAFC & FILHO, LDA.</h1>
                        <span>Construção Civil & Obras Públicas | Desde 2001</span>
                    </div>
                </div>
                <nav class="nav-menu">
                    <a href="#services">Serviços</a>
                    <a href="#gallery">Obras</a>
                    <a href="#about">Empresa</a>
                    <a href="#contact">Contacto</a>
                </nav>
                <div class="cta-buttons">
                    <a href="#quote" class="btn btn-whatsapp">
                        <i class="fab fa-whatsapp"></i> Orçamento
                    </a>
                    <a href="#" class="btn btn-login" id="openLogin">
                        <i class="fas fa-sign-in-alt"></i> Sistema
                    </a>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <h2>Especialistas em Construção Civil e Obras Públicas</h2>
                <p>Mais de 20 anos de experiência em saneamento, abastecimento de água, redes de fibra óptica, pavimentação e infraestruturas. Operação em Portugal e Alemanha com 15 equipas especializadas.</p>
                <div class="cta-buttons">
                    <a href="#services" class="btn btn-email">
                        <i class="fas fa-hard-hat"></i> Nossos Serviços
                    </a>
                    <a href="#quote" class="btn btn-whatsapp">
                        <i class="fas fa-calculator"></i> Orçamento Grátis
                    </a>
                </div>
            </div>
        </section>

        <!-- Galeria de Obras -->
        <section class="construction-gallery" id="gallery">
            <div class="container">
                <h2 class="section-title">Nossas Obras em Destaque</h2>
                <p class="text-center mb-30">Galeria de projetos realizados em Portugal e Alemanha</p>
                <div class="gallery-grid">
                    <div class="gallery-item">
                        <img src="https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Obra de saneamento">
                        <div class="gallery-overlay">
                            <h4>Saneamento Urbano - Berlin</h4>
                            <p>Rede de águas pluviais completa</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Fibra óptica">
                        <div class="gallery-overlay">
                            <h4>Redes de Fibra Óptica - Hamburg</h4>
                            <p>Instalação de infraestrutura digital</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="https://images.unsplash.com/photo-1542355953-ee57c5c2d2c8?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Pavimentação">
                        <div class="gallery-overlay">
                            <h4>Pavimentação - Munique</h4>
                            <p>Reabilitação de vias públicas</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Construção civil">
                        <div class="gallery-overlay">
                            <h4>Infraestruturas - Frankfurt</h4>
                            <p>Projetos de grande escala</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services -->
        <section class="services" id="services">
            <div class="container">
                <h2 class="section-title">Serviços Especializados</h2>
                <div class="services-grid">
                    <div class="service-card">
                        <div class="service-icon">
                            <i class="fas fa-water"></i>
                        </div>
                        <h3>Saneamento e Águas</h3>
                        <p>Redes de águas pluviais, sistemas de drenagem e abastecimento de água potável.</p>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">
                            <i class="fas fa-satellite-dish"></i>
                        </div>
                        <h3>Redes de Fibra Óptica</h3>
                        <p>Instalação e manutenção de infraestruturas de telecomunicações.</p>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">
                            <i class="fas fa-road"></i>
                        </div>
                        <h3>Pavimentação</h3>
                        <p>Pavimentação em cubo, betuminosa e reabilitação de vias públicas.</p>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3>Redes EDP e Gás</h3>
                        <p>Instalação de infraestruturas elétricas e de gás natural.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Formulário de Orçamento -->
        <section class="quote-request" id="quote">
            <div class="container">
                <h2>Solicite um Orçamento Gratuito</h2>
                <p>Preencha o formulário abaixo ou contacte-nos diretamente</p>
                
                <div class="quote-form">
                    <form id="budgetForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Nome Completo *</label>
                                <input type="text" required placeholder="Seu nome">
                            </div>
                            <div class="form-group">
                                <label>Email *</label>
                                <input type="email" required placeholder="seu@email.com">
                            </div>
                            <div class="form-group">
                                <label>Telefone *</label>
                                <input type="tel" required placeholder="+351 912 345 678">
                            </div>
                            <div class="form-group">
                                <label>Tipo de Obra *</label>
                                <select required>
                                    <option value="">Selecione...</option>
                                    <option value="saneamento">Saneamento</option>
                                    <option value="fibra">Fibra Óptica</option>
                                    <option value="pavimentacao">Pavimentação</option>
                                    <option value="eletricas">Redes Elétricas</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Localização da Obra *</label>
                            <input type="text" required placeholder="Cidade, País">
                        </div>
                        
                        <div class="form-group">
                            <label>Descrição do Projeto *</label>
                            <textarea rows="4" required placeholder="Descreva o seu projeto..."></textarea>
                        </div>
                        
                        <div class="com-methods mt-30">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i> Enviar Pedido
                            </button>
                            <a href="https://wa.me/351912345678" class="btn btn-whatsapp">
                                <i class="fab fa-whatsapp"></i> WhatsApp
                            </a>
                            <a href="mailto:orcamentos@mafc-filho.pt" class="btn btn-email">
                                <i class="fas fa-envelope"></i> Email
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="public-footer">
            <div class="container">
                <div class="footer-content">
                    <div>
                        <h3>MAFC & FILHO, LDA.</h3>
                        <p>Constituída em 2001, somos especialistas em construção civil e obras públicas com operação em Portugal e Alemanha.</p>
                    </div>
                    <div>
                        <h3>Contactos</h3>
                        <p><i class="fas fa-phone"></i> +351 123 456 789</p>
                        <p><i class="fas fa-envelope"></i> info@mafc-filho.pt</p>
                        <p><i class="fas fa-map-marker-alt"></i> Portugal & Alemanha</p>
                    </div>
                </div>
                <div class="copyright">
                    <p>&copy; 2001-2024 MAFC & FILHO, LDA. - Todos os direitos reservados.</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- ============ MODAL DE LOGIN ============ -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-lock"></i> Acesso ao Sistema MAFC</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username"><i class="fas fa-user"></i> Código de Acesso</label>
                        <input type="text" id="username" placeholder="Digite seu código" required>
                    </div>
                    <div class="form-group">
                        <label for="password"><i class="fas fa-key"></i> Senha</label>
                        <input type="password" id="password" placeholder="Digite sua senha" required>
                    </div>
                    <div class="form-group">
                        <label for="role"><i class="fas fa-user-tag"></i> Tipo de Acesso</label>
                        <select id="role" required>
                            <option value="">Selecione o tipo de acesso</option>
                            <option value="boss">Patrão/Administrador</option>
                            <option value="team">Chefe de Equipa</option>
                            <option value="purchase">Responsável de Compras</option>
                            <option value="office">Empregado de Escritório</option>
                        </select>
                    </div>
                    
                    <div class="test-credentials">
                        <h4><i class="fas fa-key"></i> Credenciais de Teste:</h4>
                        <ul>
                            <li><strong>Patrão:</strong> mafc / 1234</li>
                            <li><strong>Chefe Equipa:</strong> equipa01 / 1234</li>
                            <li><strong>Compras:</strong> compras / 1234</li>
                            <li><strong>Escritório:</strong> escritorio / 1234</li>
                        </ul>
                    </div>
                    
                    <button type="submit" class="login-submit">
                        <i class="fas fa-sign-in-alt"></i> Entrar no Sistema
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- ============ DASHBOARD DO PATRÃO ============ -->
    <div class="dashboard boss-dashboard" id="bossDashboard">
        <!-- Header Fixo -->
        <div class="dashboard-header">
            <div class="container header-content">
                <div class="dashboard-brand">
                    <i class="fas fa-crown"></i>
                    <h1>Painel do Patrão - MAFC Team Control</h1>
                </div>
                <div class="user-controls">
                    <div class="quick-actions">
                        <button class="quick-action-btn" title="Atualizar" onclick="refreshAll()">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="quick-action-btn" title="Notificações" onclick="showNotifications()">
                            <i class="fas fa-bell"></i>
                        </button>
                        <button class="quick-action-btn" title="Relatórios" onclick="openReports()">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                    </div>
                    <div class="user-info">
                        <i class="fas fa-user-circle"></i>
                        <span id="bossUserName">Administrador MAFC</span>
                    </div>
                    <div id="bossCurrentTime" style="font-weight: 600;">10:45 AM</div>
                    <button class="logout-btn" id="bossLogoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </div>
        </div>

        <!-- Navegação Horizontal -->
        <nav class="dashboard-nav">
            <div class="container nav-container">
                <div class="nav-main">
                    <a href="#" class="nav-item active" data-section="overview">
                        <i class="fas fa-tachometer-alt"></i> Visão Geral
                    </a>
                    <div class="nav-dropdown">
                        <a href="#" class="nav-item" data-section="teams">
                            <i class="fas fa-users"></i> 15 Equipas
                            <span class="nav-badge">15</span>
                        </a>
                        <div class="nav-dropdown-content">
                            <a href="#" class="dropdown-item" data-section="teams-germany">
                                <i class="fas fa-flag"></i> Alemanha (8 equipas)
                            </a>
                            <a href="#" class="dropdown-item" data-section="teams-portugal">
                                <i class="fas fa-flag"></i> Portugal (7 equipas)
                            </a>
                            <a href="#" class="dropdown-item" data-section="team-management">
                                <i class="fas fa-user-plus"></i> Gerir Equipas
                            </a>
                        </div>
                    </div>
                    <a href="#" class="nav-item" data-section="hours">
                        <i class="fas fa-clock"></i> Controlo de Horas
                        <span class="nav-badge">42</span>
                    </a>
                    <a href="#" class="nav-item" data-section="materials">
                        <i class="fas fa-boxes"></i> Pedidos Material
                        <span class="nav-badge">12</span>
                    </a>
                    <a href="#" class="nav-item" data-section="accounting">
                        <i class="fas fa-file-invoice-dollar"></i> Contabilidade
                    </a>
                </div>
                <div class="nav-secondary">
                    <a href="#" class="nav-item" data-section="realtime">
                        <i class="fas fa-satellite"></i> Tempo Real
                    </a>
                    <a href="#" class="nav-item" data-section="reports">
                        <i class="fas fa-chart-line"></i> Relatórios
                    </a>
                    <a href="#" class="nav-item" data-section="settings">
                        <i class="fas fa-cog"></i> Configurações
                    </a>
                </div>
            </div>
        </nav>

        <!-- Conteúdo Principal -->
        <main class="dashboard-main">
            <!-- Seção Visão Geral -->
            <div class="dashboard-section active" id="overviewSection">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3>15</h3>
                            <p>Equipas Ativas</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-hard-hat"></i>
                        </div>
                        <div class="stat-content">
                            <h3>42</h3>
                            <p>Trabalhadores</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-euro-sign"></i>
                        </div>
                        <div class="stat-content">
                            <h3>8</h3>
                            <p>Obras Alemanha</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3>12</h3>
                            <p>Pedidos Pendentes</p>
                        </div>
                    </div>
                </div>

                <div class="content-grid">
                    <!-- Monitorização em Tempo Real -->
                    <div class="content-card">
                        <div class="card-header">
                            <h3><i class="fas fa-satellite"></i> Monitorização em Tempo Real</h3>
                            <button class="btn-dashboard btn-primary" onclick="refreshGPS()">
                                <i class="fas fa-sync-alt"></i> Atualizar
                            </button>
                        </div>
                        <div class="teams-container">
                            <div class="team-card">
                                <div class="team-header">
                                    <h4>Equipa 01 - Berlin</h4>
                                    <span class="team-status status-online">Online</span>
                                </div>
                                <p><i class="fas fa-map-marker-alt"></i> Berlim, Kreuzberg</p>
                                <p><i class="fas fa-hard-hat"></i> Saneamento Urbano</p>
                                <p><i class="fas fa-clock"></i> 8h30m trabalhadas</p>
                                <div class="gps-map">
                                    <i class="fas fa-map"></i>
                                </div>
                            </div>
                            <div class="team-card">
                                <div class="team-header">
                                    <h4>Equipa 02 - Hamburg</h4>
                                    <span class="team-status status-online">Online</span>
                                </div>
                                <p><i class="fas fa-map-marker-alt"></i> Hamburgo, Centro</p>
                                <p><i class="fas fa-hard-hat"></i> Pavimentação</p>
                                <p><i class="fas fa-clock"></i> 7h45m trabalhadas</p>
                                <div class="gps-map">
                                    <i class="fas fa-map"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pedidos Urgentes -->
                    <div class="content-card">
                        <div class="card-header">
                            <h3><i class="fas fa-exclamation-triangle"></i> Pedidos Urgentes</h3>
                            <button class="btn-dashboard btn-warning" onclick="processUrgentRequests()">
                                <i class="fas fa-bolt"></i> Processar
                            </button>
                        </div>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Equipa</th>
                                    <th>Material</th>
                                    <th>Urgência</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Equipa 03</td>
                                    <td>Cimento (50 sacos)</td>
                                    <td><span class="badge badge-danger">CRÍTICO</span></td>
                                    <td>
                                        <button class="btn-dashboard btn-success btn-sm">
                                            <i class="fas fa-check"></i>
                                        </button>
                                        <button class="btn-dashboard btn-danger btn-sm">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Seção Contabilidade Integrada -->
            <div class="dashboard-section" id="accountingSection">
                <div class="content-card">
                    <div class="card-header">
                        <h3><i class="fas fa-file-invoice-dollar"></i> Contabilidade Integrada</h3>
                        <button class="btn-dashboard btn-success" onclick="exportAccounting()">
                            <i class="fas fa-file-export"></i> Exportar
                        </button>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-euro-sign"></i>
                            </div>
                            <div class="stat-content">
                                <h3>€45,680</h3>
                                <p>Faturação Mês</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                            <div class="stat-content">
                                <h3>€28,450</h3>
                                <p>Despesas Mês</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-content">
                                <h3>€17,230</h3>
                                <p>Saldo Mês</p>
                            </div>
                        </div>
                    </div>

                    <div class="print-section">
                        <h4><i class="fas fa-print"></i> Sistema de Impressão (Drucker)</h4>
                        <p>Imprima documentos para contabilidade e arquivo</p>
                        <div class="print-options">
                            <div class="print-option" onclick="printDocument('balanco')">
                                <i class="fas fa-balance-scale"></i>
                                <p>Balanço Mensal</p>
                            </div>
                            <div class="print-option" onclick="printDocument('horas')">
                                <i class="fas fa-clock"></i>
                                <p>Horas Trabalhadas</p>
                            </div>
                            <div class="print-option" onclick="printDocument('despesas')">
                                <i class="fas fa-receipt"></i>
                                <p>Relatório Despesas</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- ============ DASHBOARD DO CHEFE DE EQUIPA ============ -->
    <div class="dashboard team-dashboard" id="teamDashboard">
        <!-- Header -->
        <div class="dashboard-header">
            <div class="container header-content">
                <div class="dashboard-brand">
                    <i class="fas fa-hard-hat"></i>
                    <h1>Chefe de Equipa - MAFC Team Control</h1>
                </div>
                <div class="user-controls">
                    <div class="user-info">
                        <i class="fas fa-user-hard-hat"></i>
                        <span id="teamUserName">Equipa 01 - Berlin</span>
                    </div>
                    <div id="teamCurrentTime" style="font-weight: 600;">10:45 AM</div>
                    <button class="logout-btn" id="teamLogoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </div>
        </div>

        <!-- Navegação -->
        <nav class="dashboard-nav">
            <div class="container nav-container">
                <div class="nav-main">
                    <a href="#" class="nav-item active" data-section="teamOverview">
                        <i class="fas fa-home"></i> Visão da Equipa
                    </a>
                    <div class="nav-dropdown">
                        <a href="#" class="nav-item" data-section="teamManagement">
                            <i class="fas fa-users"></i> Gestão de Empregados
                        </a>
                        <div class="nav-dropdown-content">
                            <a href="#" class="dropdown-item" data-section="teamAddEmployee">
                                <i class="fas fa-user-plus"></i> Adicionar Empregado
                            </a>
                            <a href="#" class="dropdown-item" data-section="teamEditEmployee">
                                <i class="fas fa-user-edit"></i> Editar Empregados
                            </a>
                            <a href="#" class="dropdown-item" data-section="teamWhatsApp">
                                <i class="fab fa-whatsapp"></i> Comunicar por WhatsApp
                            </a>
                        </div>
                    </div>
                    <a href="#" class="nav-item" data-section="teamTime">
                        <i class="fas fa-clock"></i> Controlo de Horas
                    </a>
                    <a href="#" class="nav-item" data-section="teamMaterials">
                        <i class="fas fa-boxes"></i> Pedir Materiais
                    </a>
                    <a href="#" class="nav-item" data-section="teamReports">
                        <i class="fas fa-file-alt"></i> Extrato Mensal
                    </a>
                </div>
                <div class="nav-secondary">
                    <a href="#" class="nav-item" data-section="teamLocation">
                        <i class="fas fa-map-marker-alt"></i> Localização GPS
                    </a>
                    <a href="#" class="nav-item" data-section="teamCommunication">
                        <i class="fas fa-comments"></i> Comunicação
                    </a>
                </div>
            </div>
        </nav>

        <!-- Conteúdo -->
        <main class="dashboard-main">
            <!-- Gestão de Empregados com WhatsApp -->
            <div class="dashboard-section" id="teamManagementSection">
                <div class="content-card">
                    <div class="card-header">
                        <h3><i class="fas fa-user-plus"></i> Gestão de Empregados</h3>
                        <button class="btn-dashboard btn-success" onclick="addEmployee()">
                            <i class="fas fa-plus"></i> Adicionar
                        </button>
                    </div>
                    
                    <div class="communication-panel">
                        <h4><i class="fab fa-whatsapp"></i> Comunicação via WhatsApp</h4>
                        <p>Comunique-se diretamente com sua equipa</p>
                        <div class="com-methods">
                            <div class="com-method whatsapp" onclick="whatsAppAllTeam()">
                                <i class="fab fa-whatsapp"></i>
                                <span>Enviar para Toda Equipa</span>
                            </div>
                            <div class="com-method whatsapp" onclick="whatsAppIndividual()">
                                <i class="fab fa-whatsapp"></i>
                                <span>Mensagem Individual</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-grid mt-30">
                        <div class="form-group">
                            <label>Pesquisar Empregado</label>
                            <input type="text" placeholder="Nome ou telefone...">
                        </div>
                        <div class="form-group">
                            <label>Filtrar por Estado</label>
                            <select>
                                <option value="all">Todos</option>
                                <option value="active">Ativos</option>
                                <option value="inactive">Inativos</option>
                            </select>
                        </div>
                    </div>

                    <table class="data-table mt-20">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>WhatsApp</th>
                                <th>Cargo</th>
                                <th>Estado</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>João Silva</td>
                                <td>+351 912 345 678</td>
                                <td>Chefe de Equipa</td>
                                <td><span class="badge badge-success">Ativo</span></td>
                                <td>
                                    <button class="btn-dashboard btn-outline btn-sm">
                                        <i class="fab fa-whatsapp"></i>
                                    </button>
                                    <button class="btn-dashboard btn-warning btn-sm">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-dashboard btn-danger btn-sm">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Localização GPS -->
            <div class="dashboard-section" id="teamLocationSection">
                <div class="content-card">
                    <div class="card-header">
                        <h3><i class="fas fa-map-marker-alt"></i> Localização GPS da Equipa</h3>
                        <span class="badge badge-success">Patrão vê em tempo real</span>
                    </div>

                    <div class="gps-tracker">
                        <div class="gps-info">
                            <i class="fas fa-satellite" style="font-size: 3rem;"></i>
                            <div class="gps-coordinates">
                                <div>Latitude: <strong>52.5200° N</strong></div>
                                <div>Longitude: <strong>13.4050° E</strong></div>
                                <div>Última atualização: <strong>10:45 AM</strong></div>
                            </div>
                        </div>
                        <div class="gps-map">
                            <i class="fas fa-map-marked-alt"></i>
                            <p>Berlim, Alemanha</p>
                        </div>
                        <div class="time-buttons">
                            <button class="btn-dashboard btn-success" onclick="updateGPSLocation()">
                                <i class="fas fa-sync-alt"></i> Atualizar Localização
                            </button>
                            <button class="btn-dashboard btn-primary" onclick="sendLocationToBoss()">
                                <i class="fas fa-paper-plane"></i> Enviar ao Patrão
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- ============ DASHBOARD DE COMPRAS ============ -->
    <div class="dashboard purchase-dashboard" id="purchaseDashboard">
        <!-- Header -->
        <div class="dashboard-header">
            <div class="container header-content">
                <div class="dashboard-brand">
                    <i class="fas fa-shopping-cart"></i>
                    <h1>Responsável de Compras - MAFC</h1>
                </div>
                <div class="user-controls">
                    <div class="user-info">
                        <i class="fas fa-user-tie"></i>
                        <span id="purchaseUserName">Departamento Compras</span>
                    </div>
                    <div id="purchaseCurrentTime" style="font-weight: 600;">10:45 AM</div>
                    <button class="logout-btn" id="purchaseLogoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </div>
        </div>

        <!-- Navegação -->
        <nav class="dashboard-nav">
            <div class="container nav-container">
                <div class="nav-main">
                    <a href="#" class="nav-item active" data-section="purchaseOverview">
                        <i class="fas fa-tachometer-alt"></i> Visão Geral
                    </a>
                    <a href="#" class="nav-item" data-section="pendingRequests">
                        <i class="fas fa-clipboard-list"></i> Pedidos Pendentes
                        <span class="nav-badge">12</span>
                    </a>
                    <a href="#" class="nav-item" data-section="suppliers">
                        <i class="fas fa-truck"></i> Fornecedores
                    </a>
                    <a href="#" class="nav-item" data-section="budget">
                        <i class="fas fa-chart-pie"></i> Controlo Orçamento
                    </a>
                    <a href="#" class="nav-item" data-section="purchaseHistory">
                        <i class="fas fa-history"></i> Histórico
                    </a>
                </div>
                <div class="nav-secondary">
                    <a href="#" class="nav-item" data-section="purchaseCommunication">
                        <i class="fas fa-comments"></i> Comunicação
                    </a>
                    <a href="#" class="nav-item" data-section="purchaseReports">
                        <i class="fas fa-file-invoice"></i> Relatórios
                    </a>
                </div>
            </div>
        </nav>

        <!-- Conteúdo -->
        <main class="dashboard-main">
            <!-- Aprovação/Recusa com Justificação -->
            <div class="dashboard-section" id="pendingRequestsSection">
                <div class="content-card">
                    <div class="card-header">
                        <h3><i class="fas fa-clipboard-check"></i> Aprovação/Recusa de Pedidos</h3>
                        <button class="btn-dashboard btn-success" onclick="approveAllSelected()">
                            <i class="fas fa-check-double"></i> Aprovar Selecionados
                        </button>
                    </div>

                    <div class="communication-panel">
                        <h4><i class="fas fa-comment-alt"></i> Justificação de Decisões</h4>
                        <div class="form-group">
                            <label>Motivo da Aprovação/Recusa:</label>
                            <textarea id="justification" rows="3" placeholder="Descreva o motivo da sua decisão..."></textarea>
                        </div>
                    </div>

                    <table class="data-table mt-20">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="selectAll"></th>
                                <th>Pedido</th>
                                <th>Equipa</th>
                                <th>Material</th>
                                <th>Valor</th>
                                <th>WhatsApp</th>
                                <th>Ação</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>#PED-001</td>
                                <td>Equipa 03</td>
                                <td>Cimento (50 sacos)</td>
                                <td>€1.250</td>
                                <td>
                                    <button class="btn-dashboard btn-whatsapp btn-sm">
                                        <i class="fab fa-whatsapp"></i>
                                    </button>
                                </td>
                                <td>
                                    <select class="action-select" onchange="handlePurchaseDecision(this, 1)">
                                        <option value="">Decidir</option>
                                        <option value="approve">✅ Aprovar</option>
                                        <option value="reject">❌ Recusar</option>
                                        <option value="quote">📋 Pedir Orçamento</option>
                                    </select>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Comunicação com Fornecedores -->
            <div class="dashboard-section" id="purchaseCommunicationSection">
                <div class="content-card">
                    <div class="card-header">
                        <h3><i class="fas fa-comments"></i> Comunicação com Fornecedores</h3>
                        <button class="btn-dashboard btn-primary" onclick="newSupplierContact()">
                            <i class="fas fa-plus"></i> Novo Contacto
                        </button>
                    </div>

                    <div class="com-methods">
                        <div class="com-method whatsapp" onclick="whatsAppSupplier()">
                            <i class="fab fa-whatsapp"></i>
                            <span>WhatsApp Fornecedor</span>
                        </div>
                        <div class="com-method email" onclick="emailSupplier()">
                            <i class="fas fa-envelope"></i>
                            <span>Email Fornecedor</span>
                        </div>
                        <div class="com-method" onclick="requestQuote()">
                            <i class="fas fa-file-invoice"></i>
                            <span>Solicitar Orçamento</span>
                        </div>
                    </div>

                    <div class="form-grid mt-30">
                        <div class="form-group">
                            <label>Fornecedor</label>
                            <select>
                                <option value="">Selecione fornecedor</option>
                                <option value="1">Fornecedor A</option>
                                <option value="2">Fornecedor B</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Tipo de Mensagem</label>
                            <select>
                                <option value="quote">Pedido de Orçamento</option>
                                <option value="order">Confirmação Encomenda</option>
                                <option value="followup">Follow-up</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Mensagem</label>
                        <textarea rows="4" placeholder="Escreva sua mensagem..."></textarea>
                    </div>

                    <div class="form-actions">
                        <button class="btn-dashboard btn-whatsapp">
                            <i class="fab fa-whatsapp"></i> Enviar WhatsApp
                        </button>
                        <button class="btn-dashboard btn-email">
                            <i class="fas fa-envelope"></i> Enviar Email
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- ============ DASHBOARD ESCRITÓRIO ============ -->
    <div class="dashboard office-dashboard" id="officeDashboard">
        <!-- Header -->
        <div class="dashboard-header">
            <div class="container header-content">
                <div class="dashboard-brand">
                    <i class="fas fa-building"></i>
                    <h1>Escritório - MAFC Team Control</h1>
                </div>
                <div class="user-controls">
                    <div class="user-info">
                        <i class="fas fa-user-tie"></i>
                        <span id="officeUserName">Empregado Escritório</span>
                    </div>
                    <div id="officeCurrentTime" style="font-weight: 600;">10:45 AM</div>
                    <button class="logout-btn" id="officeLogoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </div>
        </div>

        <!-- Navegação -->
        <nav class="dashboard-nav">
            <div class="container nav-container">
                <div class="nav-main">
                    <div class="nav-dropdown">
                        <a href="#" class="nav-item active" data-section="officeTime">
                            <i class="fas fa-clock"></i> Marcação de Horas
                        </a>
                        <div class="nav-dropdown-content">
                            <a href="#" class="dropdown-item" data-section="officeTimeRegister">
                                <i class="fas fa-user-clock"></i> Registar Minhas Horas
                            </a>
                            <a href="#" class="dropdown-item" data-section="officeTimeTeam">
                                <i class="fas fa-users-clock"></i> Gerir Colaboradores
                            </a>
                        </div>
                    </div>
                    <a href="#" class="nav-item" data-section="officeReports">
                        <i class="fas fa-file-alt"></i> Extrato Personalizado
                    </a>
                    <a href="#" class="nav-item" data-section="officePrint">
                        <i class="fas fa-print"></i> Sistema de Impressão
                    </a>
                    <a href="#" class="nav-item" data-section="officeAccounting">
                        <i class="fas fa-file-invoice-dollar"></i> Comunicação Contabilidade
                    </a>
                </div>
            </div>
        </nav>

        <!-- Conteúdo -->
        <main class="dashboard-main">
            <!-- Marcação de Horas com Gestão de Colaboradores -->
            <div class="dashboard-section active" id="officeTimeSection">
                <div class="content-card">
                    <div class="card-header">
                        <h3><i class="fas fa-user-clock"></i> Marcação de Horas Individual</h3>
                        <button class="btn-dashboard btn-primary" onclick="clockInOut()">
                            <i class="fas fa-clock"></i> Marcar Entrada/Saída
                        </button>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-sign-in-alt"></i>
                            </div>
                            <div class="stat-content">
                                <h3>08:30</h3>
                                <p>Entrada Hoje</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-sign-out-alt"></i>
                            </div>
                            <div class="stat-content">
                                <h3>--:--</h3>
                                <p>Saída Hoje</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-business-time"></i>
                            </div>
                            <div class="stat-content">
                                <h3>152</h3>
                                <p>Horas Mês</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-coffee"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Presente</h3>
                                <p>Estado</p>
                            </div>
                        </div>
                    </div>

                    <div class="communication-panel mt-30">
                        <h4><i class="fas fa-users"></i> Gestão de Colaboradores</h4>
                        <p>Adicione ou remova colaboradores do sistema</p>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Nome do Colaborador</label>
                                <input type="text" placeholder="Nome completo">
                            </div>
                            <div class="form-group">
                                <label>Tipo de Acesso</label>
                                <select>
                                    <option value="">Selecione...</option>
                                    <option value="office">Escritório</option>
                                    <option value="team">Equipa</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button class="btn-dashboard btn-success">
                                <i class="fas fa-plus"></i> Adicionar
                            </button>
                            <button class="btn-dashboard btn-danger">
                                <i class="fas fa-trash"></i> Remover
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sistema de Impressão (Drucker) -->
            <div class="dashboard-section" id="officePrintSection">
                <div class="content-card">
                    <div class="card-header">
                        <h3><i class="fas fa-print"></i> Sistema de Impressão (Drucker)</h3>
                        <button class="btn-dashboard btn-primary" onclick="printAllDocuments()">
                            <i class="fas fa-print"></i> Imprimir Tudo
                        </button>
                    </div>

                    <div class="print-section">
                        <div class="print-options">
                            <div class="print-option" onclick="printDocument('extrato')">
                                <i class="fas fa-file-invoice"></i>
                                <p>Extrato Mensal</p>
                            </div>
                            <div class="print-option" onclick="printDocument('holerite')">
                                <i class="fas fa-file-alt"></i>
                                <p>Holerites</p>
                            </div>
                            <div class="print-option" onclick="printDocument('relatorio')">
                                <i class="fas fa-chart-bar"></i>
                                <p>Relatórios</p>
                            </div>
                            <div class="print-option" onclick="printDocument('faturas')">
                                <i class="fas fa-receipt"></i>
                                <p>Faturas</p>
                            </div>
                        </div>

                        <div class="form-grid mt-30">
                            <div class="form-group">
                                <label>Impressora</label>
                                <select>
                                    <option value="drucker1">Drucker Escritório 1</option>
                                    <option value="drucker2">Drucker Escritório 2</option>
                                    <option value="pdf">Salvar como PDF</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Número de Cópias</label>
                                <input type="number" min="1" value="1">
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn-dashboard btn-primary">
                                <i class="fas fa-print"></i> Imprimir Agora
                            </button>
                            <button class="btn-dashboard btn-outline">
                                <i class="fas fa-eye"></i> Pré-visualizar
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Comunicação com Contabilidade -->
            <div class="dashboard-section" id="officeAccountingSection">
                <div class="content-card">
                    <div class="card-header">
                        <h3><i class="fas fa-file-invoice-dollar"></i> Comunicação com Contabilidade</h3>
                        <button class="btn-dashboard btn-success" onclick="sendToAccounting()">
                            <i class="fas fa-paper-plane"></i> Enviar Documentos
                        </button>
                    </div>

                    <div class="communication-panel">
                        <h4><i class="fas fa-exchange-alt"></i> Envio Automático de Documentos</h4>
                        <p>Envie extratos, holerites e relatórios diretamente para a contabilidade</p>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Documento</label>
                                <select id="accountingDocument">
                                    <option value="">Selecione documento</option>
                                    <option value="extrato">Extrato de Horas</option>
                                    <option value="holerite">Holerites Mensais</option>
                                    <option value="despesas">Relatório de Despesas</option>
                                    <option value="faturas">Faturas a Pagar</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Período</label>
                                <select>
                                    <option value="mensal">Mensal</option>
                                    <option value="trimestral">Trimestral</option>
                                    <option value="anual">Anual</option>
                                </select>
                            </div>
                        </div>

                        <div class="com-methods mt-20">
                            <div class="com-method email" onclick="emailAccounting()">
                                <i class="fas fa-envelope"></i>
                                <span>Enviar por Email</span>
                            </div>
                            <div class="com-method" onclick="uploadAccounting()">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <span>Upload para Sistema</span>
                            </div>
                            <div class="com-method whatsapp" onclick="whatsAppAccounting()">
                                <i class="fab fa-whatsapp"></i>
                                <span>WhatsApp Contabilidade</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- JavaScript -->
    <script>
        // ============ SISTEMA COMPLETO MAFC ============
        
        // Dados do Sistema
        const MAFCSystem = {
            // Credenciais de acesso
            credentials: {
                boss: [
                    { code: 'mafc', password: '1234', name: 'Administrador MAFC' },
                    { code: 'patrao', password: 'admin123', name: 'Patrão Portugal' }
                ],
                team: [
                    { code: 'equipa01', password: '1234', name: 'João Silva', team: 'Equipa 01 - Berlin' }
                ],
                purchase: [
                    { code: 'compras', password: '1234', name: 'Responsável Compras' }
                ],
                office: [
                    { code: 'escritorio', password: '1234', name: 'Maria Silva', department: 'Administração' }
                ]
            },
            
            // Equipas (15 equipas como solicitado)
            teams: Array.from({length: 15}, (_, i) => ({
                id: i + 1,
                name: `Equipa ${(i + 1).toString().padStart(2, '0')} - ${i < 8 ? 'Alemanha' : 'Portugal'}`,
                leader: `Chefe ${i + 1}`,
                location: i < 8 ? 
                    ['Berlin', 'Hamburg', 'Munich', 'Frankfurt', 'Cologne', 'Düsseldorf', 'Stuttgart', 'Dresden'][i] :
                    ['Lisboa', 'Porto', 'Braga', 'Coimbra', 'Faro', 'Aveiro', 'Setúbal'][i - 8],
                workers: 6,
                status: 'working',
                gps: `${52.5 + i * 0.1}° N, ${13.4 + i * 0.1}° E`
            }))
        };
        
        let currentUser = null;
        let currentSection = 'overview';
        
        // ============ FUNÇÕES DE LOGIN ============
        document.getElementById('openLogin').addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('loginModal').style.display = 'flex';
        });
        
        document.querySelector('.close-modal').addEventListener('click', () => {
            document.getElementById('loginModal').style.display = 'none';
        });
        
        window.addEventListener('click', (e) => {
            if (e.target === document.getElementById('loginModal')) {
                document.getElementById('loginModal').style.display = 'none';
            }
        });
        
        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const role = document.getElementById('role').value;
            
            let userFound = null;
            
            if (role && MAFCSystem.credentials[role]) {
                userFound = MAFCSystem.credentials[role].find(u => 
                    u.code === username && u.password === password
                );
            }
            
            if (userFound) {
                currentUser = { ...userFound, role };
                loginSuccess();
            } else {
                alert('❌ Credenciais incorretas! Utilize as credenciais de teste.');
            }
        });
        
        function loginSuccess() {
            document.getElementById('loginModal').style.display = 'none';
            document.getElementById('publicWebsite').style.display = 'none';
            
            // Mostrar dashboard apropriado
            const dashboards = {
                'boss': 'bossDashboard',
                'team': 'teamDashboard',
                'purchase': 'purchaseDashboard',
                'office': 'officeDashboard'
            };
            
            const dashboardId = dashboards[currentUser.role];
            if (dashboardId) {
                document.getElementById(dashboardId).style.display = 'block';
                updateUserInfo();
                initializeDashboard();
            }
        }
        
        function updateUserInfo() {
            const userElements = {
                'boss': 'bossUserName',
                'team': 'teamUserName',
                'purchase': 'purchaseUserName',
                'office': 'officeUserName'
            };
            
            const elementId = userElements[currentUser.role];
            if (elementId) {
                document.getElementById(elementId).textContent = currentUser.name;
            }
        }
        
        // ============ SISTEMA DE NAVEGAÇÃO ============
        document.querySelectorAll('.nav-item, .dropdown-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                
                const section = this.getAttribute('data-section');
                if (!section) return;
                
                // Atualizar navegação ativa
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                
                this.classList.add('active');
                
                // Mostrar seção correspondente
                showSection(section);
            });
        });
        
        function showSection(sectionId) {
            currentSection = sectionId;
            
            // Esconder todas as seções
            document.querySelectorAll('.dashboard-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Mostrar seção selecionada
            const sectionElement = document.getElementById(sectionId + 'Section');
            if (sectionElement) {
                sectionElement.classList.add('active');
            }
        }
        
        // ============ FUNÇÕES DO SISTEMA ============
        function initializeDashboard() {
            // Atualizar relógios
            updateClocks();
            setInterval(updateClocks, 1000);
            
            // Carregar dados iniciais
            if (currentUser.role === 'boss') {
                loadBossData();
            }
        }
        
        function updateClocks() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('pt-PT', { hour: '2-digit', minute: '2-digit' });
            
            // Atualizar todos os relógios
            const timeElements = ['bossCurrentTime', 'teamCurrentTime', 'purchaseCurrentTime', 'officeCurrentTime'];
            timeElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.textContent = timeString;
            });
        }
        
        // ============ FUNÇÕES DO PATRÃO ============
        function loadBossData() {
            // Atualizar contador de equipas
            const teamBadge = document.querySelector('.nav-item[data-section="teams"] .nav-badge');
            if (teamBadge) {
                teamBadge.textContent = MAFCSystem.teams.length;
            }
        }
        
        function refreshAll() {
            alert('🔄 Sistema atualizado com sucesso!');
        }
        
        function showNotifications() {
            alert('🔔 Notificações do sistema:\n\n• 3 pedidos de material pendentes\n• 2 equipas necessitam de atenção\n• 1 relatório mensal pronto');
        }
        
        function printDocument(type) {
            const documents = {
                'balanco': 'Balanço Mensal',
                'horas': 'Horas Trabalhadas',
                'despesas': 'Relatório de Despesas',
                'extrato': 'Extrato Mensal',
                'holerite': 'Holerites',
                'relatorio': 'Relatório Gerencial',
                'faturas': 'Faturas'
            };
            
            alert(`🖨️ Preparando para impressão: ${documents[type] || 'Documento'}\n\nA imprimir na impressora padrão (Drucker)...`);
            // Em produção: window.print() ou chamada API
        }
        
        // ============ FUNÇÕES DO CHEFE DE EQUIPA ============
        function whatsAppAllTeam() {
            alert('📱 Abrindo WhatsApp para enviar mensagem para toda a equipa...');
            // Em produção: window.open(`https://wa.me/?text=...`)
        }
        
        function updateGPSLocation() {
            alert('📍 Localização GPS atualizada!\n\nO patrão pode agora ver a sua localização em tempo real.');
        }
        
        // ============ FUNÇÕES DE COMPRAS ============
        function handlePurchaseDecision(select, requestId) {
            const decision = select.value;
            if (decision === 'approve') {
                alert(`✅ Pedido #${requestId} aprovado!\n\nSerá criada uma encomenda com o fornecedor.`);
            } else if (decision === 'reject') {
                const reason = prompt('Motivo da recusa:');
                if (reason) {
                    alert(`❌ Pedido #${requestId} recusado!\n\nMotivo: ${reason}`);
                }
            }
        }
        
        // ============ FUNÇÕES DE ESCRITÓRIO ============
        function clockInOut() {
            const now = new Date().toLocaleTimeString('pt-PT', { hour: '2-digit', minute: '2-digit' });
            alert(`⏰ Hora registada: ${now}\n\nSua entrada/saída foi registada no sistema.`);
        }
        
        function sendToAccounting() {
            alert('📊 Documentos enviados para a contabilidade!\n\nOs ficheiros foram transferidos automaticamente.');
        }
        
        // ============ LOGOUT ============
        document.querySelectorAll('.logout-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if (confirm('Tem certeza que deseja sair do sistema?')) {
                    // Esconder todos os dashboards
                    document.querySelectorAll('.dashboard').forEach(d => {
                        d.style.display = 'none';
                    });
                    
                    // Mostrar website público
                    document.getElementById('publicWebsite').style.display = 'block';
                    
                    // Fechar modal
                    document.getElementById('loginModal').style.display = 'none';
                    
                    // Limpar dados
                    currentUser = null;
                    document.getElementById('loginForm').reset();
                }
            });
        });
        
        // ============ FORMULÁRIO DE ORÇAMENTO ============
        document.getElementById('budgetForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('✅ Pedido de orçamento enviado com sucesso!\n\nEntraremos em contacto dentro de 24 horas.');
        });
        
        // Inicializar sistema
        updateClocks();
        
        // Suporte para tecla ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.getElementById('loginModal').style.display = 'none';
            }
        });
    </script>
</body>
</html>
